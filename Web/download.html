<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Space Cowboys â€” Download</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="assets/images/logo.png">
</head>
<body>
    <nav class="main-nav">
        <div class="nav-content">
            <div class="nav-left">
                <a href="index.html" class="nav-logo">
                    <img src="assets/images/logo.png" alt="Space Cowboys Logo">
                    <span>Space Cowboys</span>
                </a>
                <div class="nav-tabs">
                    <a href="index.html" class="nav-tab">Home</a>
                    <a href="download.html" class="nav-tab active">Download</a>
                    <a href="wiki.html" class="nav-tab">Wiki</a>
                </div>
            </div>
            <div class="nav-right">
                <!-- This anchor will be switched to a Profile button when a user is logged in -->
                <a id="navAccount" href="login.html" class="nav-login">Login</a>
            </div>
        </div>
    </nav>

    <main class="container">
        <section class="download-section">
            <h1>Download Space Cowboys</h1>
            <div class="download-options">
                <div class="download-card">
                    <h2>Latest Release</h2>
                    <p class="version">Version 1.0.0</p>
                    <ul class="features">
                        <li>Full game experience</li>
                        <li>Multiplayer support</li>
                        <li>All current maps included</li>
                    </ul>
                    <a id="downloadWin" href="#" class="button primary download-btn">Download for Windows</a>
                    <a id="downloadLinux" href="#" class="button secondary download-btn">Download for Linux</a>
                </div>

                <div class="download-card">
                    <h2>System Requirements</h2>
                    <ul class="requirements">
                        <li><strong>OS:</strong> Windows 10/11 or Linux</li>
                        <li><strong>Processor:</strong> Intel i5 or equivalent</li>
                        <li><strong>Memory:</strong> 8 GB RAM</li>
                        <li><strong>Graphics:</strong> DirectX 11 compatible</li>
                        <li><strong>Storage:</strong> 4 GB available space</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>
        <script>
            // Hide download buttons when no user is signed in (based on localStorage.currentUser).
            (function(){
                try {
                    const buttons = document.querySelectorAll('.download-btn');
                    const container = document.querySelector('.download-card');
                    const user = localStorage.getItem('currentUser');

                                if (!user) {
                        buttons.forEach(b => b.style.display = 'none');

                        if (container) {
                            const notice = document.createElement('p');
                            notice.style.marginTop = '12px';
                            notice.style.color = 'var(--accent)';
                            notice.innerHTML = 'Please <a href="login.html" style="color:var(--bg);background:var(--accent);padding:6px 10px;border-radius:6px;text-decoration:none">sign in</a> to download.';
                            container.appendChild(notice);
                        }
                    }

                    // Keep nav account label consistent across pages
                    const navA = document.getElementById('navAccount');
                    if (navA) {
                                    if (user) { navA.textContent = 'Profile'; navA.href = 'profile.html'; }
                        else { navA.textContent = 'Login'; navA.href = 'login.html'; }
                    }
                } catch (e) { /* ignore errors to avoid breaking the page */ }
            })();
        </script>
</body>
</html>